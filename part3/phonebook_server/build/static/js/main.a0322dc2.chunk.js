(this.webpackJsonpthe_phonebook=this.webpackJsonpthe_phonebook||[]).push([[0],{16:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(0),o=t.n(r),u=t(15),c=t.n(u),l=t(4),i=t(5),m=function(e){var n=e.onSubmit,t=Object(r.useState)({}),u=Object(a.a)(t,2),c=u[0],m=u[1],f=function(e){e.preventDefault(),n(c)},s=function(e){m(Object(i.a)(Object(i.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))};return o.a.createElement("form",{onSubmit:function(e){return f(e)}},o.a.createElement("div",null,o.a.createElement("label",null,"name:"),o.a.createElement("input",{name:"name",onChange:s}),o.a.createElement("label",null,"number:"),o.a.createElement("input",{name:"number",onChange:s})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},f=t(3),s=t.n(f),b="api/persons",d=function(){return s.a.get(b).then((function(e){return e.data}))},E=function(e){return s.a.post(b,e).then((function(e){return e.data}))},h=function(e,n){return s.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){return s.a.delete("".concat(b,"/").concat(e))},v=(t(38),function(e){var n=e.message;return n?o.a.createElement("div",{className:"error"},n):null}),g=function(e){var n=e.filter,t=e.entries,a=e.onRemovePerson,r=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return o.a.createElement(o.a.Fragment,null,r.map((function(e,n){return o.a.createElement(j,{id:e.id,name:e.name,number:e.number,onRemove:function(){return a(e.id)}})})))},j=function(e){var n=e.name,t=e.number,a=e.onRemove;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h5",null,n),o.a.createElement("h5",null,t),o.a.createElement("button",{onClick:a},"Delete"))},O=function(e){var n=e.onUpdateFilter;return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",null,"Filter By Name"),o.a.createElement("input",{type:"text",onChange:n}))},w=function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],u=n[1],c=Object(r.useState)(null),l=Object(a.a)(c,2),i=l[0],f=l[1];o.a.useEffect((function(){d().then((function(e){u(e)}))}),[]);var s=Object(r.useState)(""),b=Object(a.a)(s,2),j=b[0],w=b[1],k=function(e){f(e),setTimeout((function(){f(null)}),5e3)},S=function(e){return t.filter((function(n){return n.name===e})).length<1};return o.a.createElement("div",null,o.a.createElement(O,{onUpdateFilter:function(e){w(e.target.value)}}),o.a.createElement(v,{message:i}),o.a.createElement("h2",null,"Phonebook"),o.a.createElement(m,{onSubmit:function(e){console.log(e),S(e.name)?(console.log("name is valid"),E(e).then(k("Added ".concat(e.name))),u(t.concat({name:e.name,number:e.number}))):window.confirm("".concat(e.name," already exist in the phonebook, would you like to replace the old one?"))&&(h(t.filter((function(n){return e.name===n.name}))[0].id,e).then(k("Updated ".concat(e.name))),u(t.map((function(n){return n.name===e.name?e:n}))))}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(g,{filter:j,onRemovePerson:function(e){window.confirm()&&p(e).then((function(){u(t.filter((function(n){return n.id!==e})))})).catch((function(e){f("Message cannot be deleted")}))},entries:t}))};c.a.render(o.a.createElement(w,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a0322dc2.chunk.js.map